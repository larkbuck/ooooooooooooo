<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>o0o</title>
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <!-- <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script> -->
  <!-- <script src="https://cdn.rawgit.com/matthewbryancurtis/aframe-star-system-component/db4f1030/index.js"></script> -->

  <script type="" src="js/threeComponents.js" type="text/javascript"></script>

  <script type="" src="js/water.js" type="text/javascript"></script>

  <!--- code for mobile users --->
  <script src="js/tap-to-teleport.js" type="text/javascript"></script>
  <script src="https://rawgit.com/fernandojsg/aframe-teleport-controls/master/dist/aframe-teleport-controls.min.js"></script>

</head>

<script>
  // media query event handler - use this to load different controls for mobile v. broswer
  {
    if (matchMedia) {
      const mq = window.matchMedia("(min-width: 500px) and (min-height: 500px)");
      mq.addListener(widthChange);
      widthChange(mq);
    }

    function widthChange(mq) {
      if (mq.matches) { // matches browser
        // window width is at least 500px
        // document.querySelector("#camera").innerHTML = `Sorry phone, to make a Traumagotchi you have to be on a computer.`;
        console.log('browser');

      } else { // matches mobile
        // document.querySelector("#camera").innerHTML = `Sorry phone, to make a Traumagotchi you have to be on a computer.`;
        console.log('momo');
      }
    }
  }
</script>


<body>
  <a-scene loading-screen="dotsColor: white; backgroundColor: black">


    <a-assets>
      <img id="texture" src="assets/marble.png">
      <img id="texturestand" src="assets/marble3.jpg">
      <img id="water-normal" src="assets/waternormals.jpg" />
      <img id="milky-way" src="assets/nasa-milkyWay.jpg" />
      <img id="moon-texture" src="assets/moon-texture.jpg" />
      <img id="moon-dem" src="assets/moon_DEM.jpg" />
      <a-asset-item id="tri-obj" src="assets/facade.obj"></a-asset-item>
      <a-asset-item id="tri-mtl" src="assets/facade.mtl"></a-asset-item>
    </a-assets>



    <a-entity octahedron="" position="60 45 -150" rotation="33 0 25" animation="property: rotation; to: -327 360 25; loop: true; dur: 10000; easing: easeInOutQuad;"> </a-entity>

    <a-entity octahedron="" position="60 45 -150" rotation="33 0 25" animation="property: rotation; to: -327 360 25; loop: true; dur: 10000; easing: easeInOutQuad;"> </a-entity>

    <a-entity octahedron="color: #bbff33;" position="20 66 -140" rotation="33 0 25" scale=".5 .5 .5" animation="property: rotation; to: -327 360 25; loop: true; dur: 10000; easing: easeInOutQuad;"> </a-entity>

    <a-entity octahedron="color: #906edb;" position="-10 70 -120" scale=".8 .8 .8" rotation="33 0 25" animation="property: rotation; to: -327 360 25; loop: true; dur: 11000; easing: easeInOutQuad;"> </a-entity>

    <a-entity octahedron="color: #518fe0;" position="-20 50 -133" scale="1 .5 .5" rotation="33 0 25" animation="property: rotation; to: -327 360 25; loop: true; dur: 9000; easing: easeInOutQuad;"> </a-entity>

    <a-sky src="#moon-texture" theta-length="90" radius="3333"></a-sky>
    <!-- <a-sky color="#010001"></a-sky> -->
    <!-- <a-entity star-system="count: 100; radius: 250; depth: 80; color: #b68fff;"></a-entity> -->

    <a-cylinder src="#moon-texture" radius="20" height="2" position="0 -2 0" shadow="receive: true"></a-cylinder>

    <!-- moon ceiling -->
    <!-- <a-cylinder  src="#moon-texture" radius="200" height="2" position="0 5 0"></a-cylinder> -->

    <!-- <a-cylinder id="ground" src="" radius="2000" height="2" position="0 -2 0"></a-cylinder> -->

    <!-- <a-cylinder id="ground" src="#moon-texture" radius="2000" height="2" position="0 -2 0"></a-cylinder> -->


    <a-moon material="normalMap: #moon-texture; sphericalEnvMap: #milky-way;" position="0 -2 0"></a-moon>


    <a-ocean-plane material="normalMap: #water-normal; sphericalEnvMap: #milky-way;" position="0 .5 0"></a-ocean-plane>

    <a-ocean-plane material="normalMap: #water-normal; sphericalEnvMap: #milky-way;" position="0 3 0"></a-ocean-plane>



    <!-- J A S O N S R O O M -->
    <!--- obsidian 3D stand --->
    <a-box src="#texturestand" depth="0.5" height="25" width="23" position="-50 0 17" rotation="-90 0 90" shadow="cast: true"></a-box>

    <!--- ultra 3D stand --->
    <a-box src="#texturestand" depth="0.5" height="20" width="23" position="34 0 19" rotation="-90 0 90" shadow="receive: true"></a-box>

    <!--- eternal 3D stand --->
    <!-- <a-box src="#texturestand" repeat="2 2" depth="0.5" height="20" width="23" position="9 0 -15" rotation="-90  0"  shadow="cast: true"></a-box> -->

    <!--- floor --->
    <!-- <a-box src="#texturestand" repeat="4 4"  color="grey" depth="0.5" height="110" width="70" position="0 -.5 4" rotation="-90 0 90" shadow="receive: true"></a-box> -->

    <!-- <a-box src="#texturestand"  color="grey" depth="0.5" height="15" width="25" position="0 -.5 51.5" rotation="-90 0 90" shadow="receive: true"></a-box> -->



    <!--- walls --->

    <a-entity position="0 0 0">

      <!--- INSIDE WALLS ----->

      <a-box src="#milky-way" depth="0.5" height="15" width="25" position="-7.12 6.5 56.5" rotation="0 90 0" shadow="receive: true" id="inside entrance wall right"></a-box>

      <a-box src="#milky-way" depth="0.5" height="15" width="25" position="6.21 6.5 56.52" rotation="0 90 0" shadow="receive: true" id="inside entrance wall left"></a-box>

      <a-box src="#milky-way" repeat="1 1" depth="0.5" height="111" width="30" position="-0.5 14 138" rotation="0 0 90" shadow="receive: true" id="inside back wall"></a-box>

      <a-box src="#milky-way" depth="0.5" height="70" width="30" position="54 14 104.025" rotation="0 90 90" shadow="receive: true" id="inside left wall"></a-box>

      <a-box src="#milky-way" depth="0.5" height="49" width="30" position="30.46 14 69.2" rotation="0 0 90" shadow="receive: true" id="inside front left wall"></a-box>

      <a-box src="#milky-way" depth="0.5" height="49" width="30" position="-31.37 14 69.2" rotation="0 0 90" shadow="receive: true" id="inside front right wall"></a-box>

      <a-box src="#milky-way" depth="0.5" height="70" width="30" position="-55 14 104.025" rotation="0 90 90" shadow="receive: true" id="inside right wall"></a-box>

      <a-box src="#milky-way" depth="0.5" height="13" width="14.9" position="-.5 21.57 69.2" rotation="0 0 90" shadow="receive: true" id="inside front top panel"></a-box>


      <!--- outside WALLS ----->

      <a-box src="#texturestand" depth="0.5" height="15" width="25" position="-7.5 6.5 56.5" rotation="0 90 0" shadow="receive: true" id="outside entrance wall right"></a-box>

      <a-box src="#texturestand" depth="0.5" height="15" width="25" position="6.5 6.5 56.52" rotation="0 90 0" shadow="receive: true" id="outside entrance wall left"></a-box>

      <a-box src="#texturestand" depth="0.5" height="111.8" width="30" position="-0.48 14 139.2" rotation="0 0 90" shadow="receive: true" id="outside back wall"></a-box>

      <a-box src="#texturestand" depth="0.5" height="70" width="30" position="55.218 14 104.025" rotation="0 90 90" shadow="receive: true" id="outside left wall"></a-box>

      <a-box src="#texturestand" depth="0.5" height="70" width="30" position="-56.123 14 104.025" rotation="0 90 90" shadow="receive: true" id="outside right wall"></a-box>

      <a-box src="#texturestand" depth="0.5" height="49" width="30" position="30.95417 14 68.76525" rotation="0 0 90" shadow="receive: true" id="outside front left wall"></a-box>

      <a-box src="#texturestand" depth="0.5" height="49" width="30" position="-31.876 14 68.76525" rotation="0 0 90" shadow="receive: true" id="outside front right wall"></a-box>

      <a-box src="#texturestand" depth="0.5" height="14" width="14.9" position="-.5 21.57 68.76674" rotation="0 0 90" shadow="receive: true" id="outside front top panel"></a-box>

    </a-entity>


    <!--- ceiling --->
    <!-- <a-box src="#texturestand"  color="grey" depth="0.5" height="26" width="15" position="0 14.5 52" rotation="90 0 0" shadow="receive: true"></a-box>

    <a-box src="#texturestand"  color="grey" depth="0.5" height="110" width="70" position="0 29 4" rotation="-90 0 90" shadow="receive: true"></a-box> -->


    <!--- buidling facade --->

    <!--- 3D Version --->

    <!-- <a-entity position="0 25 46">

    <a-sphere src="#moon-texture" position="0 4 20" scale="3 3 3" rotation="10 50 0"></a-sphere>

    <a-entity obj-model="obj: #tri-obj; mtl: #tri-mtl" position="-0.5 4 20" scale="2 2 1"></a-entity>

    <a-entity obj-model="obj: #tri-obj; mtl: #tri-mtl" position="0.5 4 20" scale="2 2 1" rotation="0 180 0"></a-entity>

   </a-entity> -->

    <!-- 2D Version --->
    <a-entity position="0 19 46">

      <a-cylinder src="#moon-texture" radius="3" height="1" position="0 4 20" rotation="90 0 0" shadow="receive: true"></a-cylinder>

      <a-entity obj-model="obj: #tri-obj; mtl: #tri-mtl" position="-0.5 4 20" scale="2 2 0.5"></a-entity>

      <a-entity obj-model="obj: #tri-obj; mtl: #tri-mtl" position="0.5 4 20" scale="2 2 0.5" rotation="0 180 0"></a-entity>

    </a-entity>

    <!--- moon/earth spheres inside altar --->
    <a-entity scale=".7 .7 .7" position="0 3 120">

      <a-sphere src="#moon-texture" position="0 16 0" scale="3 3 3" rotation="10 50 0"></a-sphere>

      <a-sphere src="#moon-texture" position="0 0 0" scale="12 12 12" rotation="10 150 0" animation="property: rotation; from: -360 0 0 to: -360 0 0; loop: true; dur: 11000; easing: easeInOutQuad;"></a-sphere>

    </a-entity>



    <!--- lily  --->
    <a-assets>
      <a-asset-item id="lily" src="assets/scene.gltf"></a-asset-item>
    </a-assets>

    <a-entity gltf-model="#lily" position="70 -.3 -100" rotation="0 0 0" scale=".1 .1 .1" shadow="cast: true" id="lily"></a-entity>

    <a-entity gltf-model="#lily" position="-100 -.3 -110" rotation="0 45 0" scale=".1 .1 .1" shadow="cast: true" id="lily"></a-entity>

    <!--- rocks  --->
    <a-assets>
      <a-asset-item id="rock" src="assets/rock1.gltf"></a-asset-item>
    </a-assets>

    <a-entity gltf-model="#rock" position="0 0 0" rotation="120 0 0" scale="1.5 1.5 1.5" shadow="cast: true" id="rock"></a-entity>

    <a-entity gltf-model="#rock" position="2 0 0" rotation="120 0 0" scale="1.5 -1.5 1.5" shadow="cast: true" id="rock"></a-entity>

    <a-entity gltf-model="#rock" position="-2 -.8 -1" rotation="120 0 0" scale=".8 .8 .8" shadow="cast: true" id="rock"></a-entity>


    <!--- rocks inside room --->

    <!--- cluster 1 --->
    <a-entity gltf-model="#rock" position="15 0 90" rotation="120 -100 0" scale="2.5 2.5 2.5" shadow="cast: true" id="rock"></a-entity>

    <a-entity gltf-model="#rock" position="14 -1 90" rotation="120 10 0" scale="1.5 1.5 1.5" shadow="cast: true" id="rock"></a-entity>

    <a-entity gltf-model="#rock" position="12.84 0.49 92.21" rotation="-71.84 -153.50 -9.88" scale="2 2 2" shadow="cast: true" id="rock"></a-entity>


    <!--- cluster 2 --->
    <a-entity gltf-model="#rock" position="-20.44 1 97.96" rotation="67.47 31.14 142.33" scale="2.5 2.5 2.5" shadow="cast: true" id="rock2"></a-entity>

    <a-entity gltf-model="#rock" position="-20 0.5 93.55" rotation="49.10 -41.22 22.58" scale="1.5 1.5 1.5" shadow="cast: true" id="rock2"></a-entity>

    <a-entity gltf-model="#rock" position="-23 0.49 95" rotation="-71.84 -193.50 -9.88" scale="2 2 2" shadow="cast: true" id="rock2"></a-entity>



    <!--- 3D wall text for controls  --->
    <!-- <a-assets>
      <a-asset-item id="cont" src="assets/mobile_controls.gltf"></a-asset-item>
    </a-assets>

    <a-entity gltf-model="#cont" animation-mixer="clip:" position="7.45 5 48" rotation="0 -90 0" scale=".5 .5 2" shadow="cast: true" id="parallax"></a-entity> -->


    <!-- L I G H T S -->
    <!--- light source for scene --->
    <a-entity light="type: ambient; intensity: 0.2">
    </a-entity>

    <a-entity light="type: directional; castShadow: true; intensity: 0.8; shadowCameraVisible: false;" position="-5 3 1.5"></a-entity>

    <!-- <a-light type="directional" position="0 0 0" rotation="-90 0 0" color="#ca7272" castShadow="true" target="#directionaltarget">
      <a-entity id="directionaltarget" position=".5 .5 -1"></a-entity>
    </a-light> -->

    <!--- light source for description and control --->
    <!-- <a-entity data-brackets-id="2258" light="type: point;
                         distance: 15;
                         castShadow:
                         true;
                         color: #7e7ab3" position="-4.82562 6.90639 47.55674" id="p_light">
    </a-entity>

    <a-entity data-brackets-id="2259" light="type: point;
                         distance: 15;
                         castShadow: true;
                         color: #944c4c" position="6.04314 6.72045 47.30599" id="p_light 2">
    </a-entity> -->


    <!-- C A M E R A -->

    <!-- desktop camera / controls -->
    <a-entity camera look-controls wasd-controls="acceleration:2000" position="0 3 10"></a-entity>



    <!-- teleport for mobile -  camera / controls -->
    <!-- <a-entity id="cameraRig" position="0 3 10">
      <a-entity id="head" position="0 0 0" camera="userHeight:3" look-controls="pointerLockEnabled:true">
        <a-entity position="0.1 -0.1 0" touch-listener teleport-controls="cameraRig: #cameraRig;
             teleportOrigin: #head;
             startEvents:starttouch;
             endEvents:endtouch;
             curveShootingSpeed:20;
             hitCylinderRadius:1;
             collisionEntities: #ground">
        </a-entity>
      </a-entity>
    </a-entity> -->
  </a-scene>



</body>

</html>
